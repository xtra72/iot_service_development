:imagesdir: ./images

= Raspberry Pi 4 Compute Module

link:https://www.raspberrypi.com/products/compute-module-4/?variant=raspberry-pi-cm4001000[Raspberry Pi 4 Compute Module(컴퓨트 모듈 4, CM4)]은 Raspberry Pi 4의 기능을 컴팩트한 모듈 형태로 만든 제품으로, 임베디드 시스템과 산업용 애플리케이션에 맞춰 설계되었습니다. Raspberry Pi 4의 성능과 기능을 유지하면서도 설계 유연성과 확장성을 높여, 개발자가 필요에 따라 하드웨어를 최적화할 수 있게 합니다.


---

== 1. Raspberry Pi 4 Compute Module (CM4)의 핵심 사양과 특징

image::rpi_cm4.png["Raspberry Pi CM4",width=50%,align=center]

=== 1.1 프로세서와 성능

image::bcm2711.png[]

* **프로세서**: Raspberry Pi 4와 동일한 Broadcom BCM2711 칩을 사용하여 강력한 연산 성능을 제공합니다.
* **CPU**: ARM Cortex-A72 64비트 쿼드코어, 1.5GHz 속도로, 높은 처리 능력을 요구하는 IoT 및 임베디드 애플리케이션에 적합합니다.
* **그래픽**: VideoCore VI GPU를 탑재하여 4K 동영상 디코딩과 디스플레이 출력이 가능하며, 고해상도 디스플레이 지원이 필요할 때 유용합니다.

=== 1.2 메모리 구성

* **RAM**: 1GB부터 8GB까지 다양한 용량의 LPDDR4 SDRAM을 제공하여, 애플리케이션의 메모리 요구 사항에 따라 선택할 수 있습니다.
* **스토리지**: eMMC 플래시 스토리지를 내장하거나, 외부 SD 카드 슬롯을 통해 스토리지를 확장할 수 있습니다. 일부 모델은 eMMC를 포함하지 않고, 외부 스토리지를 통해 데이터를 저장하는 구성을 지원합니다.

=== 1.3 입출력 (I/O)

* **GPIO 핀**: 100개의 핀을 통해 28개의 GPIO를 비롯한 다양한 인터페이스와 연결할 수 있어 유연성이 높습니다. 이를 통해 여러 센서, 액추에이터 및 외부 장치를 연결하여 다양한 IoT 환경에서 활용할 수 있습니다.
* **디스플레이 인터페이스**: HDMI, MIPI DSI와 같은 인터페이스를 통해 듀얼 디스플레이 출력을 지원하며, 고해상도 디스플레이가 요구되는 애플리케이션에 적합합니다.
* **카메라 인터페이스**: MIPI CSI 인터페이스를 통해 듀얼 카메라 연결을 지원하여, 스마트 시티의 영상 감지, 로봇 관제 및 보안 시스템에서 활용할 수 있습니다.
* **이더넷과 USB**: 기가비트 이더넷, PCIe Gen 2 인터페이스를 통해 고속 네트워크 통신을 지원하며, USB 2.0 포트와 호환성이 있어 다양한 USB 장치를 연결할 수 있습니다.

=== 1.4 무선 연결

* 일부 CM4 모델은 듀얼밴드 2.4GHz 및 5GHz Wi-Fi와 Bluetooth 5.0 BLE(Bluetooth Low Energy) 기능을 내장하여, IoT 애플리케이션에서 필수적인 무선 연결을 지원합니다. Wi-Fi 및 Bluetooth 통신을 통해 스마트홈, 원격 모니터링 등 다양한 무선 네트워크 환경에 쉽게 통합할 수 있습니다.

=== 1.5 크기와 장착 방식

* **크기**: Raspberry Pi 4 Compute Module은 55mm x 40mm의 소형 폼팩터로, 공간이 제한된 환경에서도 쉽게 장착할 수 있습니다.
* **커넥터**: 두 개의 100핀 커넥터를 사용하여, 사용자 맞춤형 I/O 보드에 부착할 수 있습니다. CM4 IO 보드와 같은 확장 보드를 통해 설계 유연성을 제공합니다.

=== 1.6 운영체제

* Raspberry Pi OS, Ubuntu, Windows IoT Core와 같은 다양한 운영체제를 지원하여, 응용 프로그램의 요구 사항에 따라 최적의 OS를 선택할 수 있습니다.
* **소프트웨어 지원**: Python, C++, Node.js 등 다양한 언어와 개발 도구를 활용하여 개발할 수 있어, IoT 및 임베디드 시스템에 유연하게 적용할 수 있습니다.

== 2. CM4 IO 보드와의 통합

CM4는 직접 사용이 어려운 컴팩트한 모듈 형태이므로, GPIO 및 다양한 인터페이스에 접근하려면 **CM4 IO 보드**와 같은 확장 보드가 필요합니다. CM4 IO 보드는 CM4와 연결하여 개발 중에 모든 기능을 손쉽게 사용할 수 있도록 도와줍니다.

* **USB 포트 및 SD 카드 슬롯**: IO 보드는 USB 포트와 SD 카드 슬롯을 추가로 제공하여, 데이터 저장 및 주변 장치 연결이 가능합니다.
* **HDMI 및 카메라 포트**: 고해상도 듀얼 디스플레이 및 카메라 모듈 연결을 지원하므로, 모니터링 시스템, 영상 처리 애플리케이션에 적합합니다.
* **전원 관리**: CM4 IO 보드는 PoE(Power over Ethernet)를 지원하여 이더넷을 통해 전력을 공급할 수 있으므로, 배선이 제한된 환경에서 유리합니다.

=== 2.1 Compute Module 4 IO Board

image:RPI_CM4_IO_BOARD_01.png[]

Raspberry Pi Compute Module 4 IO 보드는 Compute Module 4(CM4)의 다양한 인터페이스를 모두 노출하여 개발자들이 CM4의 기능을 최대한 활용할 수 있도록 설계된 개발 플랫폼이자 참조 베이스보드입니다.

**주요 특징:**

* **전원 입력:** +12V 및 +5V 외부 전원 커넥터를 통해 안정적인 전원 공급이 가능합니다.
* **비디오 출력:** 두 개의 풀 사이즈 HDMI 2.0 커넥터를 통해 고해상도 비디오 출력을 지원합니다.
* **USB 포트:** 두 개의 USB 2.0 포트와 추가로 두 개의 USB 포트를 위한 헤더를 제공합니다.
* **이더넷:** 기가비트 이더넷 RJ45 포트가 있으며, PoE(Power over Ethernet)를 지원하여 네트워크를 통한 전원 공급이 가능합니다.
* **PCIe 슬롯:** 표준 PCIe Gen 2 x1 슬롯을 통해 NVMe, SATA, 네트워킹 카드 등 다양한 PCIe 장치를 연결할 수 있습니다.
* **카메라 및 디스플레이 인터페이스:** 두 개의 MIPI DSI 디스플레이 커넥터와 두 개의 MIPI CSI-2 카메라 커넥터를 통해 멀티미디어 장치를 연결할 수 있습니다.
* **GPIO 헤더:** 표준 Raspberry Pi HAT 커넥터를 통해 다양한 확장 모듈을 연결할 수 있습니다.
* **실시간 시계(RTC):** 배터리 소켓이 있는 RTC를 통해 시스템 시간을 유지하고 CM4를 깨울 수 있는 기능을 제공합니다.
* **팬 커넥터:** 표준 팬 커넥터를 통해 냉각 팬을 연결하여 시스템의 열 관리를 할 수 있습니다.
* **마이크로SD 카드 슬롯:** eMMC가 없는 CM4 Lite 변형을 위한 마이크로SD 카드 슬롯을 제공합니다.

이러한 다양한 인터페이스를 통해 개발자들은 CM4의 강력한 성능을 활용하여 프로토타입을 제작하거나 최종 제품에 통합할 수 있습니다.

=== 2.2 Waveshare CM4-ETH-RS485-BASE-B

[cols="1a,1a",frame=none,grid=none]
|===
|image:cm4-eth-rs485-base-b-3.jpg[]
|image:cm4-eth-rs485-base-b-2.png[]
|===

Waveshare의 link:https://www.waveshare.com/product/raspberry-pi/boards-kits/compute-module-4-4s-cat/cm4-eth-rs485-box-b.htm[CM4-ETH-RS485-BASE-B]는 Raspberry Pi Compute Module 4(CM4)를 위한 확장 보드로, 다양한 산업용 애플리케이션에 적합한 기능을 제공합니다.

**주요 특징:**

* **이더넷 포트:** 기가비트 이더넷(RJ45) 포트와 100Mbps 이더넷 포트를 각각 하나씩 제공합니다.
* **RS485 인터페이스:** 4개의 절연된 RS485 인터페이스를 통해 안정적인 직렬 통신이 가능합니다.
* **USB 포트:** 2개의 USB 2.0 타입 A 포트를 통해 다양한 USB 장치를 연결할 수 있습니다.
* **카메라 인터페이스:** 2개의 MIPI CSI-2 포트를 통해 카메라 모듈을 연결할 수 있습니다.
* **비디오 출력:** HDMI 포트를 통해 최대 4K 30fps의 비디오 출력을 지원합니다.
* **실시간 시계(RTC):** 배터리 소켓이 있는 RTC를 통해 시스템 시간을 유지하고 CM4를 깨울 수 있는 기능을 제공합니다.
* **전원 입력:** 7V에서 36V까지의 DC 전원 입력을 지원하여 다양한 전원 환경에서 사용할 수 있습니다.

**주의사항:**

* 전원이 켜진 상태에서는 USB와 HDMI를 제외한 다른 장치의 연결 및 분리를 피해야 합니다.
* 연결 전에 팬의 전압을 확인해야 하며, 5V 팬만 지원합니다.
* Type-C 인터페이스는 전원 공급 또는 USB 인터페이스로 이미지를 굽는 데 사용할 수 있으며, 이를 위해 DIP 스위치를 전환해야 합니다.
* CM4의 정상적인 전원 공급을 위해 Type-C 인터페이스를 통해 이미지를 굽는 동안 다른 장치를 연결하지 않는 것이 좋습니다.

이러한 기능들을 통해 CM4-ETH-RS485-BASE-B는 산업용 통신 및 네트워킹 애플리케이션에 적합한 솔루션을 제공합니다.

== 3. Raspberry Pi 4 Compute Module의 활용 사례

=== 3.1 산업용 IoT 시스템

* **설명**: CM4는 산업 환경에서의 데이터 수집과 처리를 수행할 수 있도록 고성능 CPU와 다양한 I/O 옵션을 제공하여, 스마트 제조, 설비 모니터링, 예지 유지보수 등의 응용에 적합합니다.
* **예시**: 공장 설비의 온도, 진동, 습도 센서를 연결하여 실시간으로 데이터를 수집하고, 이상 징후가 감지되면 즉시 경고를 보내어 유지보수 작업을 수행할 수 있습니다.

=== 3.2 스마트 시티 인프라

* **설명**: 고속 네트워크 연결과 듀얼 카메라 지원을 통해, 교통 모니터링, 주차 공간 관리, 보안 시스템 등 스마트 시티의 다양한 애플리케이션에 활용할 수 있습니다.
* **예시**: CM4에 카메라를 연결하여 도시 내 주요 도로의 교통량을 모니터링하고, 실시간 데이터를 바탕으로 교통 흐름을 최적화합니다.

=== 3.3 스마트 홈 시스템

* **설명**: CM4는 소형화된 크기와 무선 연결 지원으로 스마트홈 시스템을 구축하는 데 적합합니다. 다양한 센서와의 연결을 통해 홈 자동화, 에너지 관리, 보안 시스템 등을 구축할 수 있습니다.
* **예시**: 온도 센서, 조명 제어, 보안 카메라를 CM4에 연결하여 스마트홈의 온도, 조명, 보안 상태를 실시간으로 제어하고 모니터링합니다.

=== 3.4 로봇 및 자율주행 시스템

* **설명**: CM4의 고성능 CPU와 듀얼 카메라 입력 기능을 통해 로봇 제어와 자율주행 애플리케이션에도 적용할 수 있습니다.
* **예시**: CM4 기반의 자율주행 로봇은 주변 환경을 카메라로 인식하고, 머신러닝 모델을 통해 경로를 계획하여 스스로 이동할 수 있습니다.

== 4. Raspberry Pi 4 Compute Module의 장점과 단점

=== 4.1 장점

* **고성능과 유연성**: 강력한 CPU와 다양한 메모리 및 저장 옵션을 통해, 산업용 애플리케이션과 고성능이 요구되는 임베디드 시스템에 적합합니다.
* **확장성**: 다수의 GPIO 핀과 USB, HDMI, MIPI DSI, CSI 등의 다양한 인터페이스를 제공하여, 필요한 기능을 자유롭게 확장할 수 있습니다.
* **컴팩트한 크기**: 55mm x 40mm의 소형 폼팩터로, 제한된 공간에서도 설치가 용이합니다.
* **폭넓은 운영체제와 개발 환경**: 다양한 OS와 프로그래밍 언어를 지원하여, 다양한 응용 분야에 유연하게 활용할 수 있습니다.

=== 4.2 단점

* **확장 보드 의존성**: GPIO와 기타 I/O 포트를 사용하려면 별도의 확장 보드가 필요해 개발이 번거로울 수 있습니다.
* **초보자에겐 어려움**: 기본적인 하드웨어 지식이 필요한 컴퓨트 모듈이므로, 일반적인 Raspberry Pi 모델에 비해 사용이 어렵고 설치 과정이 복잡할 수 있습니다.
* **추가 비용**: 확장 보드와 주변 장치가 필요하기 때문에 추가 비용이 발생할 수 있습니다.


== 5. 정리

* Raspberry Pi 4 Compute Module은 유연성과 확장성이 높아 산업용 IoT, 스마트홈, 스마트 시티 등의 다양한 고급 애플리케이션에 적합한 오픈 소스 하드웨어입니다.
* 개발자와 제조사는 CM4를 사용해 자신만의 맞춤형 하드웨어를 설계할 수 있으며, Raspberry Pi 생태계를 통해 다양한 소프트웨어와 커뮤니티의 지원을 받을 수 있습니다.

---

[cols="1a,1a,1a",grid=none,frame=none]
|===
<s|link:section_3_1.adoc[이전 섹션]
^s|link:../../README.md[목차]
>s|link:section_3_3.adoc[다음 섹션]
|===